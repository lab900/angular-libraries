!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=a(e);if(t){var r=a(this).constructor;i=Reflect.construct(o,arguments,r)}else i=o.apply(this,arguments);return n(this,i)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"6Goa":function(n,a,o){"use strict";o.r(a),o.d(a,"ShowcaseAdminModule",(function(){return et}));var l,c=o("ofXK"),s=o("tyNb"),u=o("knNE"),d=o("FJko"),m=o("GIPc"),p={name:"News",editable:!0,creatable:!0,deletable:!0,languages:new Map([["en","english"],["fr","french"]]),fields:[{title:"Id",attribute:"id",editType:m.a.Input,overviewOptions:{hide:!0},editOptions:{hide:!0}},{title:"Published",attribute:"published",editType:m.a.Checkbox},{title:"Title",attribute:"title",editType:m.a.Input,overviewOptions:{sticky:!0,onClick:function(e,t,n){alert("clicked on: "+e.attribute)}},translatable:!0},{title:"Subtitle",attribute:"subTitle",editType:m.a.Input,translatable:!0},{title:"Author",attribute:"author",editType:m.a.Input},{title:"Posted On",editType:m.a.Date,attribute:"postedOn"},{title:"Posted On",editType:m.a.Date,attribute:"postedOnShort",overviewOptions:{displayOptions:{pipeFormat:"shortTime",maxColumnWidth:"90px"}}},{title:"Posted By",attribute:"postedBy",editType:m.a.Input,overviewOptions:{displayOptions:{customFormatter:function(e){return"custom <strong>formatted</strong> "+e}}}},{title:"Content",attribute:"content",editType:m.a.Wysiwyg,overviewOptions:{hide:!0},editOptions:{editorConfig:{uploadUrl:"https://europe-west1-tournamentcenter-tools-dev.cloudfunctions.net/uploadImage",uploadWithCredentials:!0}},translatable:!0},{title:"Background",attribute:"backgroundImageUrl",editType:m.a.Image},{title:"Games",attribute:"gameIds",editType:m.a.Select,editOptions:{values:[{value:"pokemon",label:"pokemon"}],multiple:!0},createOptions:{values:[{value:"pokemon",label:"pokemon"}],multiple:!0}}]},b=[{id:"1",published:!0,title:"Combating the Lockdown: an insider\u2019s experience on entering new marketing channels!",subTitle:"Get your community to represent your store and take home the trophy.",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965",languages:["en","fr"]},{id:"2",published:!1,title:"Interview with Michael Loizou \u2013 Owner of The Brotherhood Games Ltd",subTitle:"(Interview conducted at Sneak Attacks Regional Event on Saturday, 6th April, 2019)",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"3",published:!0,title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"4",title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"5",title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"6",title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"7",title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"8",title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"}],f=o("fXoL"),g=o("mrSG"),h=function(){function e(){i(this,e)}return r(e,null,[{key:"toForm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new m.b;return n.fields=[],e.fields.sort((function(e,t){return e.translatable===t.translatable?0:e.translatable?-1:1})).forEach((function(e){n.fields.push(Object.assign(Object.assign({},e),{options:t&&e.createOptions?e.createOptions:e.editOptions}))})),n}}]),e}(),v=o("0IaG"),w=o("+0xr"),y=o("M9IT"),O=((l=function(){function e(){i(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=f.Hb({type:l,selectors:[["lab900-date-display"]],inputs:{fieldType:"fieldType",data:"data"},decls:2,vars:4,template:function(e,t){1&e&&(f.Hc(0),f.gc(1,"date")),2&e&&f.Jc("",f.ic(1,1,t.data,(null==t.fieldType||null==t.fieldType.overviewOptions||null==t.fieldType.overviewOptions.displayOptions?null:t.fieldType.overviewOptions.displayOptions.pipeFormat)||"short"),"\n")},pipes:[c.f],encapsulation:2}),l);function _(e,t){if(1&e&&(f.Tb(0,"a",1),f.Ob(1,"img",2),f.Sb()),2&e){var n=f.fc();f.lc("href",n.data,f.xc),f.Bb(1),f.lc("src",n.data,f.xc)}}var S,k=((S=function(){function e(){i(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||S)},S.\u0275cmp=f.Hb({type:S,selectors:[["lab900-image-display"]],inputs:{fieldType:"fieldType",data:"data"},decls:1,vars:1,consts:[["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],["alt","",1,"mat-elevation-z2",3,"src"]],template:function(e,t){1&e&&f.Fc(0,_,2,2,"a",0),2&e&&f.lc("ngIf",t.data)},directives:[c.t],styles:["img[_ngcontent-%COMP%]{max-height:50px}"]}),S),T=o("bSwM"),x=o("sYmb");function F(e,t){if(1&e&&(f.Tb(0,"mat-checkbox",1),f.Hc(1),f.gc(2,"translate"),f.Sb()),2&e){var n=f.fc();f.lc("checked",n.data),f.Bb(1),f.Jc(" ",f.hc(2,2,n.fieldType.title),"\n")}}var D,C=((D=function(){function e(){i(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||D)},D.\u0275cmp=f.Hb({type:D,selectors:[["lab900-checkbox-display"]],inputs:{fieldType:"fieldType",data:"data"},decls:1,vars:1,consts:[["disabled","true",3,"checked",4,"ngIf"],["disabled","true",3,"checked"]],template:function(e,t){1&e&&f.Fc(0,F,3,4,"mat-checkbox",0),2&e&&f.lc("ngIf",void 0!==t.data)},directives:[c.t,T.a],pipes:[x.d],styles:["img[_ngcontent-%COMP%]{max-height:50px}"]}),D);function I(e,t){if(1&e&&f.Ob(0,"span",3),2&e){var n=f.fc();f.lc("innerHTML",null==n.column.overviewOptions?null:n.column.overviewOptions.displayOptions.customFormatter(n.row[n.column.attribute],n.row),f.wc)}}function H(e,t){if(1&e&&(f.Tb(0,"span"),f.Ob(1,"lab900-date-display",7),f.Sb()),2&e){var n=f.fc(2);f.Bb(1),f.lc("data",n.row[n.column.attribute])("fieldType",n.column)}}function P(e,t){if(1&e&&(f.Tb(0,"span"),f.Ob(1,"lab900-image-display",7),f.Sb()),2&e){var n=f.fc(2);f.Bb(1),f.lc("data",n.row[n.column.attribute])("fieldType",n.column)}}function j(e,t){if(1&e&&(f.Tb(0,"span"),f.Ob(1,"lab900-checkbox-display",7),f.Sb()),2&e){var n=f.fc(2);f.Bb(1),f.lc("data",n.row[n.column.attribute])("fieldType",n.column)}}function B(e,t){if(1&e&&(f.Tb(0,"span",8),f.Hc(1),f.Sb()),2&e){var n=f.fc(2);f.Bb(1),f.Ic(n.row[n.column.attribute])}}function M(e,t){if(1&e&&(f.Tb(0,"span",4),f.Fc(1,H,2,2,"span",5),f.Fc(2,P,2,2,"span",5),f.Fc(3,j,2,2,"span",5),f.Fc(4,B,2,1,"span",6),f.Sb()),2&e){var n=f.fc();f.lc("ngSwitch",n.column.editType),f.Bb(1),f.lc("ngSwitchCase",n.Date),f.Bb(1),f.lc("ngSwitchCase",n.Image),f.Bb(1),f.lc("ngSwitchCase",n.Checkbox)}}var R,E=((R=function(){function e(){i(this,e),this.Wysiwyg=m.a.Wysiwyg,this.Date=m.a.Date,this.Input=m.a.Input,this.Checkbox=m.a.Checkbox,this.TextArea=m.a.TextArea,this.Image=m.a.Image}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||R)},R.\u0275cmp=f.Hb({type:R,selectors:[["lab900-admin-table-cell"]],inputs:{column:"column",row:"row"},decls:3,vars:2,consts:[[1,"cell"],[3,"innerHTML",4,"ngIf"],["class","cell__wrapper",3,"ngSwitch",4,"ngIf"],[3,"innerHTML"],[1,"cell__wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","cell__wrapper__text",4,"ngSwitchDefault"],[3,"data","fieldType"],[1,"cell__wrapper__text"]],template:function(e,t){1&e&&(f.Tb(0,"div",0),f.Fc(1,I,1,1,"span",1),f.Fc(2,M,5,4,"span",2),f.Sb()),2&e&&(f.Bb(1),f.lc("ngIf",null==t.column||null==t.column.overviewOptions||null==t.column.overviewOptions.displayOptions?null:t.column.overviewOptions.displayOptions.customFormatter),f.Bb(1),f.lc("ngIf",!(null!=t.column&&null!=t.column.overviewOptions&&null!=t.column.overviewOptions.displayOptions&&t.column.overviewOptions.displayOptions.customFormatter)))},directives:[c.t,c.x,c.y,c.z,O,k,C],styles:[".cell[_ngcontent-%COMP%]{overflow-wrap:anywhere;width:100%}.cell__icon[_ngcontent-%COMP%]{max-width:40px;min-width:40px}.cell[_ngcontent-%COMP%]   lab900-image-display[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),R),q=o("bTqV"),L=o("NFeN"),U=o("oOQ3"),$=o("Xa2L"),A=o("Wp6s"),z=function(e){return{"max-width":e}};function J(e,t){if(1&e&&(f.Tb(0,"mat-header-cell",15),f.Hc(1),f.gc(2,"translate"),f.Sb()),2&e){var n=f.fc().$implicit;f.lc("ngStyle",(null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)&&f.oc(4,z,null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)),f.Bb(1),f.Jc(" ",f.hc(2,2,n.title)," ")}}function W(e,t){if(1&e){var n=f.Ub();f.Tb(0,"a",19),f.bc("click",(function(){f.vc(n);var e=f.fc().$implicit,t=f.fc().$implicit;return null==t.overviewOptions?null:t.overviewOptions.onClick(t,e[t.attribute],e)})),f.Ob(1,"lab900-admin-table-cell",20),f.Sb()}if(2&e){var a=f.fc().$implicit,i=f.fc().$implicit;f.Bb(1),f.lc("column",i)("row",a)}}function N(e,t){if(1&e&&f.Ob(0,"lab900-admin-table-cell",20),2&e){var n=f.fc().$implicit,a=f.fc().$implicit;f.lc("column",a)("row",n)}}function G(e,t){if(1&e&&(f.Tb(0,"mat-cell",16),f.Fc(1,W,2,2,"a",17),f.Fc(2,N,1,2,"lab900-admin-table-cell",18),f.Sb()),2&e){var n=f.fc().$implicit;f.lc("ngStyle",(null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)&&f.oc(3,z,null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)),f.Bb(1),f.lc("ngIf",null==n.overviewOptions?null:n.overviewOptions.onClick),f.Bb(1),f.lc("ngIf",!(null!=n.overviewOptions&&n.overviewOptions.onClick))}}function Q(e,t){if(1&e&&(f.Rb(0,12),f.Fc(1,J,3,6,"mat-header-cell",13),f.Fc(2,G,3,5,"mat-cell",14),f.Qb()),2&e){var n=t.$implicit;f.mc("matColumnDef",n.attribute),f.lc("sticky",null==n||null==n.overviewOptions?null:n.overviewOptions.sticky)}}function K(e,t){1&e&&f.Ob(0,"mat-header-cell",21)}function X(e,t){if(1&e&&(f.Tb(0,"mat-cell",22),f.Tb(1,"button",23),f.Tb(2,"mat-icon"),f.Hc(3,"edit"),f.Sb(),f.Sb(),f.Sb()),2&e){var n=t.$implicit,a=f.fc();f.Bb(1),f.lc("data",n)("schema",a.form)("submitFormHandler",a.editHandler)}}function V(e,t){1&e&&f.Ob(0,"mat-header-cell",21)}function Y(e,t){if(1&e){var n=f.Ub();f.Tb(0,"mat-cell",24),f.Tb(1,"button",25),f.bc("confirmed",(function(){f.vc(n);var e=t.$implicit;return f.fc().delete.emit(e)})),f.Tb(2,"mat-icon"),f.Hc(3,"delete"),f.Sb(),f.Sb(),f.Sb()}}function Z(e,t){1&e&&f.Ob(0,"mat-header-row")}function ee(e,t){1&e&&(f.Tb(0,"div"),f.Ob(1,"mat-spinner"),f.Sb())}function te(e,t){if(1&e&&(f.Tb(0,"mat-row",26),f.Fc(1,ee,2,0,"div",27),f.Sb()),2&e){var n=f.fc();f.Bb(1),f.lc("ngIf",!n.loading)}}function ne(e,t){1&e&&(f.Tb(0,"mat-card",28),f.Ob(1,"mat-progress-spinner",29),f.Sb())}var ae,ie=((ae=function(){function e(){i(this,e),this.loading=!1,this.edit=new f.o,this.delete=new f.o,this.pageEvent=new f.o,this.page=1}return r(e,[{key:"ngOnInit",value:function(){this.form=h.toForm(this.schema,!1),this.columns=this.schema.fields.filter((function(e){var t;return!(null===(t=e.overviewOptions)||void 0===t?void 0:t.hide)})).map((function(e,t){return e})),this.displayedColumns=this.schema.fields.filter((function(e){var t;return!(null===(t=e.overviewOptions)||void 0===t?void 0:t.hide)})).map((function(e,t){return e.attribute})),this.schema.editable&&this.displayedColumns.push("edit"),this.schema.deletable&&this.displayedColumns.push("delete")}},{key:"length",get:function(){var e;return(null===(e=this.data)||void 0===e?void 0:e.items)?this.data.hasMore?this.page*this.data.items.length+1:this.page*this.data.items.length:0}}]),e}()).\u0275fac=function(e){return new(e||ae)},ae.\u0275cmp=f.Hb({type:ae,selectors:[["lab900-admin-table"]],inputs:{loading:"loading",schema:"schema",data:"data",editHandler:"editHandler"},outputs:{edit:"edit",delete:"delete",pageEvent:"pageEvent"},decls:13,vars:9,consts:[[1,"mat-elevation-z8","table"],[3,"dataSource"],[3,"matColumnDef","sticky",4,"ngFor","ngForOf"],["matColumnDef","edit","stickyEnd",""],["class","table__header__cell table__header__cell-icon",4,"matHeaderCellDef"],["class","table__row__cell table__row__cell-icon",4,"matCellDef"],["matColumnDef","delete","stickyEnd",""],["class","table__row__cell-icon",4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],["hidePageSize","",3,"disabled","pageSize","pageIndex","length","page"],[3,"matColumnDef","sticky"],["class","table__header__cell",3,"ngStyle",4,"matHeaderCellDef"],["class","table__row__cell",3,"ngStyle",4,"matCellDef"],[1,"table__header__cell",3,"ngStyle"],[1,"table__row__cell",3,"ngStyle"],["href","javascript://",3,"click",4,"ngIf"],[3,"column","row",4,"ngIf"],["href","javascript://",3,"click"],[3,"column","row"],[1,"table__header__cell","table__header__cell-icon"],[1,"table__row__cell","table__row__cell-icon"],["mat-icon-button","","lab900FormDialog","",3,"data","schema","submitFormHandler"],[1,"table__row__cell-icon"],["mat-icon-button","","lab900ConfirmationDialog","",3,"confirmed"],[1,"table__row"],[4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(e,t){1&e&&(f.Tb(0,"div",0),f.Tb(1,"mat-table",1),f.Fc(2,Q,3,2,"ng-container",2),f.Rb(3,3),f.Fc(4,K,1,0,"mat-header-cell",4),f.Fc(5,X,4,3,"mat-cell",5),f.Qb(),f.Rb(6,6),f.Fc(7,V,1,0,"mat-header-cell",4),f.Fc(8,Y,4,0,"mat-cell",7),f.Qb(),f.Fc(9,Z,1,0,"mat-header-row",8),f.Fc(10,te,2,1,"mat-row",9),f.Sb(),f.Fc(11,ne,2,0,"mat-card",10),f.Tb(12,"mat-paginator",11),f.bc("page",(function(e){return t.pageEvent.emit(e),t.page=e.pageIndex+1})),f.Sb(),f.Sb()),2&e&&(f.Bb(1),f.lc("dataSource",null==t.data?null:t.data.items),f.Bb(1),f.lc("ngForOf",t.columns),f.Bb(7),f.lc("matHeaderRowDef",t.displayedColumns),f.Bb(1),f.lc("matRowDefColumns",t.displayedColumns),f.Bb(1),f.lc("ngIf",t.loading),f.Bb(1),f.lc("disabled",t.loading||!t.data||!(null!=t.data&&t.data.items))("pageSize",null==t.data||null==t.data.items?null:t.data.items.length)("pageIndex",t.page-1)("length",t.length))},directives:[w.j,c.s,w.c,w.e,w.b,w.g,w.i,c.t,y.a,w.d,c.w,w.a,E,q.b,m.d,L.a,U.b,w.f,w.h,$.c,A.a,$.a],pipes:[x.d],styles:[".table__header__cell[_ngcontent-%COMP%]{padding:0 10px}.table__header__cell-icon[_ngcontent-%COMP%]{max-width:40px;min-width:40px}.table__row[_ngcontent-%COMP%]{padding:20px 0}.table__row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.table__row__cell[_ngcontent-%COMP%]{padding:0 10px}.table__row__cell-icon[_ngcontent-%COMP%]{max-width:40px;min-width:40px}  .mat-paginator-range-label{display:none}  mat-cell:first-of-type,   mat-header-cell:first-of-type{padding-left:20px!important}"]}),ae);function oe(e,t){if(1&e&&(f.Tb(0,"div"),f.Hc(1),f.Sb()),2&e){var n=f.fc();f.Bb(1),f.Jc(" ",n.error,"\n")}}function re(e,t){if(1&e&&(f.Tb(0,"button",4),f.Hc(1,"Create"),f.Sb()),2&e){var n=f.fc(2);f.lc("schema",n.createForm)("submitFormHandler",n.createHandler)}}function le(e,t){if(1&e){var n=f.Ub();f.Tb(0,"div"),f.Tb(1,"div",1),f.Fc(2,re,2,2,"button",2),f.Tb(3,"lab900-admin-table",3),f.bc("pageEvent",(function(e){return f.vc(n),f.fc().onPageEvent(e)}))("delete",(function(e){return f.vc(n),f.fc().onDelete(e)})),f.Sb(),f.Sb(),f.Sb()}if(2&e){var a=f.fc();f.Bb(2),f.lc("ngIf",a.schema.creatable),f.Bb(1),f.lc("loading",a.loading)("schema",a.schema)("data",a.currentPage)("editHandler",a.editHandler)}}var ce,se,ue=((se=function(){function e(t){var n=this;i(this,e),this.dialog=t,this.loading=!1,this.editHandler=function(e){return Object(g.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.dataService.update(e);case 3:return this.loadData(),t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t,this)})))},this.createHandler=function(e){return Object(g.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.dataService.create(e);case 3:return n=t.sent,t.abrupt("return",(this.loadData(),n));case 5:case"end":return t.stop()}}),t,this)})))}}return r(e,[{key:"ngOnInit",value:function(){this.pageInfo={currentPage:1,pageSize:this.dataService.defaultPageSize()},this.editForm=h.toForm(this.schema,!1),this.createForm=h.toForm(this.schema,!0),this.loadData()}},{key:"loadData",value:function(){var e=this;this.loading=!0,this.dataService.getPage(this.pageInfo.currentPage,this.pageInfo.pageSize).then((function(t){e.currentPage=t,e.loading=!1})).catch((function(t){console.log(t),e.error="Oops, something went wrong"})).finally((function(){return e.loading=!1}))}},{key:"onPageEvent",value:function(e){this.pageInfo.currentPage=e.pageIndex+1,this.loadData()}},{key:"onDelete",value:function(e){var t=this;this.loading=!0,this.dataService.delete(e).then((function(){return t.loadData()})).catch((function(e){console.log(e),t.error="Oops, something went wrong.",t.loading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||se)(f.Nb(v.b))},se.\u0275cmp=f.Hb({type:se,selectors:[["lab900-admin-page"]],inputs:{schema:"schema",dataService:"dataService"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"admin-page"],["mat-raised-button","","color","primary","lab900FormDialog","",3,"schema","submitFormHandler",4,"ngIf"],[3,"loading","schema","data","editHandler","pageEvent","delete"],["mat-raised-button","","color","primary","lab900FormDialog","",3,"schema","submitFormHandler"]],template:function(e,t){1&e&&(f.Fc(0,oe,2,1,"div",0),f.Fc(1,le,4,5,"div",0)),2&e&&(f.lc("ngIf",t.error),f.Bb(1),f.lc("ngIf",!t.error))},directives:[c.t,ie,q.b,m.d],styles:[".admin-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;align-content:stretch}.admin-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:20px}.admin-page[_ngcontent-%COMP%]   lab900-admin-table[_ngcontent-%COMP%]{flex:1 1 auto;align-self:stretch}"]}),se),de=((ce=function e(){i(this,e),this.newsSchema=p,this.dataService=new(function(){function e(){i(this,e),this.previousPage=0}return r(e,[{key:"create",value:function(e){throw new Error("Method not implemented.")}},{key:"delete",value:function(e){return Promise.resolve(void 0)}},{key:"getPage",value:function(e,t){var n=this;return new Promise((function(a){var i=!!b[e*t]||e<n.previousPage;n.previousPage=e,setTimeout((function(){return a({pageNumber:e,items:b.slice((e-1)*t,e*t),hasMore:i})}),300)}))}},{key:"defaultPageSize",value:function(){return 3}},{key:"update",value:function(e){return new Promise((function(e){setTimeout((function(){return e()}),1e3)}))}}]),e}())}).\u0275fac=function(e){return new(e||ce)},ce.\u0275cmp=f.Hb({type:ce,selectors:[["lab900-admin-page-example"]],decls:1,vars:2,consts:[[3,"schema","dataService"]],template:function(e,t){1&e&&f.Ob(0,"lab900-admin-page",0),2&e&&f.lc("schema",t.newsSchema)("dataService",t.dataService)},directives:[ue],encapsulation:2}),ce),me=o("d3UM"),pe=o("FKr1");function be(e,t){if(1&e){var n=f.Ub();f.Tb(0,"mat-option",11),f.bc("click",(function(){f.vc(n);var e=t.$implicit,a=f.fc(2),i=f.sc(3);return a.onLanguageChange(e.key,i.value)})),f.Hc(1),f.Sb()}if(2&e){var a=t.$implicit;f.lc("value",a.key),f.Bb(1),f.Jc(" ",a.value," ")}}function fe(e,t){if(1&e){var n=f.Ub();f.Tb(0,"div",6),f.Tb(1,"mat-select",7),f.Fc(2,be,2,2,"mat-option",8),f.gc(3,"keyvalue"),f.Sb(),f.Ob(4,"div",9),f.Tb(5,"button",10),f.bc("click",(function(){return f.vc(n),f.fc().clearLanguage()})),f.Tb(6,"mat-icon"),f.Hc(7," delete "),f.Sb(),f.Hc(8," Clear current language "),f.Sb(),f.Sb()}if(2&e){var a=f.fc();f.Bb(1),f.lc("value",a.currentLanguage),f.Bb(1),f.lc("ngForOf",f.hc(3,2,a.dialogAdminSchemaData.schema.languages))}}var ge,he,ve=((he=function(){function e(t,n){i(this,e),this.data=t,this.dialogRef=n,this.loading=!1,this.returnObject={},this.dialogAdminSchemaData=t,this.formSchema=h.toForm(t.schema,t.create),this.formData=this.dialogAdminSchemaData.data?this.dialogAdminSchemaData.data:{}}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.currentLanguage=Array.from(this.dialogAdminSchemaData.schema.languages.keys())[0],this.loading=!0,this.dialogAdminSchemaData.get(this.formData.id,this.currentLanguage).then((function(t){e.rootObject=t,e.formData=t})).catch((function(t){e.formData={}})).finally((function(){e.loading=!1}))}},{key:"submit",value:function(e){var t=this;this.loading=!0,this.error=null,this.addToReturnObject(e),e=this.removeTranslatableFieldsFromRootObject(e),this.dialogAdminSchemaData.submit(Object.assign(Object.assign(Object.assign({},this.rootObject),e),this.returnObject)).then((function(e){return e?t.dialogRef.close():t.error="Oops. An error occured."})).catch((function(e){return t.error=e})).finally((function(){return t.loading=!1}))}},{key:"onLanguageChange",value:function(e,t){var n=this;if(this.loading=!0,this.addToReturnObject(t),this.currentLanguage=e,this.returnObject.translations[e]){var a={};this.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(t){a[t.attribute]=n.returnObject.translations[e][t.attribute]})),this.formData=Object.assign(Object.assign({},t),a),this.loading=!1}else if(this.formData&&this.formData.id)this.dialogAdminSchemaData.get(this.formData.id,e).then((function(e){var a={};n.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(t){a[t.attribute]=e?e[t.attribute]:null})),n.formData=Object.assign(Object.assign({},t),a)})).catch((function(e){n.error=e})).finally((function(){n.loading=!1}));else{var i={};this.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(e){i[e.attribute]=null})),this.formData=Object.assign(Object.assign({},t),i),this.loading=!1}}},{key:"addToReturnObject",value:function(e){var t=this;this.returnObject.translations||(this.returnObject.translations={}),this.returnObject.translations[this.currentLanguage]||(this.returnObject.translations[this.currentLanguage]={}),this.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(n){t.returnObject.translations[t.currentLanguage][n.attribute]=e[n.attribute]}))}},{key:"clearLanguage",value:function(){var e={};this.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(t){e[t.attribute]=null})),this.addToReturnObject(e),this.formData=Object.assign(Object.assign({},this.formData),e)}},{key:"removeTranslatableFieldsFromRootObject",value:function(e){return this.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(t){delete e[t.attribute]})),e}}]),e}()).\u0275fac=function(e){return new(e||he)(f.Nb(v.a),f.Nb(v.h))},he.\u0275cmp=f.Hb({type:he,selectors:[["lab900-translatable-form-dialog"]],decls:9,vars:4,consts:[["class","language-select-container",4,"ngIf"],[3,"schema","data"],["lab900Form",""],["align","end"],["mat-raised-button","","mat-dialog-close","","tabindex","-1"],["mat-raised-button","","color","primary","tabindex","1",3,"disabled","click"],[1,"language-select-container"],["align","end",1,"language-select-container__languages",3,"value"],["class","language-select-container__languages__option",3,"value","click",4,"ngFor","ngForOf"],[1,"language-select-container__spacer"],["mat-raised-button","",3,"click"],[1,"language-select-container__languages__option",3,"value","click"]],template:function(e,t){if(1&e){var n=f.Ub();f.Tb(0,"mat-dialog-content"),f.Fc(1,fe,9,4,"div",0),f.Ob(2,"lab900-form-container",1,2),f.Sb(),f.Tb(4,"mat-dialog-actions",3),f.Tb(5,"button",4),f.Hc(6,"Cancel"),f.Sb(),f.Tb(7,"button",5),f.bc("click",(function(){f.vc(n);var e=f.sc(3);return t.submit(e.value)})),f.Hc(8,"Ok"),f.Sb(),f.Sb()}if(2&e){var a=f.sc(3);f.Bb(1),f.lc("ngIf",t.dialogAdminSchemaData.schema.languages),f.Bb(1),f.lc("schema",t.formSchema)("data",t.formData),f.Bb(5),f.lc("disabled",!a.valid||t.loading||!!t.error)}},directives:[v.f,c.t,m.c,v.c,q.b,v.d,me.a,c.s,L.a,pe.o],pipes:[c.l],styles:["mat-dialog-content[_ngcontent-%COMP%]{min-width:600px}.language-select-container[_ngcontent-%COMP%]{padding:0 32px;flex-direction:row;display:flex}.language-select-container__languages[_ngcontent-%COMP%]{align-self:center;width:100px}.language-select-container__spacer[_ngcontent-%COMP%]{flex-grow:1}"]}),he),we=((ge=function(){function e(t){i(this,e),this.dialog=t}return r(e,[{key:"onMouseEnter",value:function(){this.dialog.open(ve,{data:{schema:this.schema,data:this.data,submit:this.submitFormHandler,get:this.getHandler,create:this.create}}).beforeClosed().subscribe((function(e){})).unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||ge)(f.Nb(v.b))},ge.\u0275dir=f.Ib({type:ge,selectors:[["","lab900TranslatableFormDialog",""]],hostBindings:function(e,t){1&e&&f.bc("click",(function(){return t.onMouseEnter()}))},inputs:{schema:"schema",data:"data",create:"create",submitFormHandler:"submitFormHandler",getHandler:"getHandler"}}),ge),ye=function(e){return{"max-width":e}};function Oe(e,t){if(1&e&&(f.Tb(0,"mat-header-cell",15),f.Hc(1),f.Sb()),2&e){var n=f.fc().$implicit;f.lc("ngStyle",(null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)&&f.oc(2,ye,null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)),f.Bb(1),f.Jc(" ",n.title," ")}}function _e(e,t){if(1&e){var n=f.Ub();f.Tb(0,"a",19),f.bc("click",(function(){f.vc(n);var e=f.fc().$implicit,t=f.fc().$implicit;return null==t.overviewOptions?null:t.overviewOptions.onClick(t,e[t.attribute],e)})),f.Ob(1,"lab900-admin-table-cell",20),f.Sb()}if(2&e){var a=f.fc().$implicit,i=f.fc().$implicit;f.Bb(1),f.lc("column",i)("row",a)}}function Se(e,t){if(1&e&&f.Ob(0,"lab900-admin-table-cell",20),2&e){var n=f.fc().$implicit,a=f.fc().$implicit;f.lc("column",a)("row",n)}}function ke(e,t){if(1&e&&(f.Tb(0,"mat-cell",16),f.Fc(1,_e,2,2,"a",17),f.Fc(2,Se,1,2,"lab900-admin-table-cell",18),f.Sb()),2&e){var n=f.fc().$implicit;f.lc("ngStyle",(null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)&&f.oc(3,ye,null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)),f.Bb(1),f.lc("ngIf",null==n.overviewOptions?null:n.overviewOptions.onClick),f.Bb(1),f.lc("ngIf",!(null!=n.overviewOptions&&n.overviewOptions.onClick))}}function Te(e,t){if(1&e&&(f.Rb(0,12),f.Fc(1,Oe,2,4,"mat-header-cell",13),f.Fc(2,ke,3,5,"mat-cell",14),f.Qb()),2&e){var n=t.$implicit;f.mc("matColumnDef",n.attribute),f.lc("sticky",null==n||null==n.overviewOptions?null:n.overviewOptions.sticky)}}function xe(e,t){1&e&&f.Ob(0,"mat-header-cell",21)}function Fe(e,t){if(1&e&&(f.Tb(0,"mat-cell",22),f.Tb(1,"button",23),f.Tb(2,"mat-icon"),f.Hc(3,"edit"),f.Sb(),f.Sb(),f.Sb()),2&e){var n=t.$implicit,a=f.fc();f.Bb(1),f.lc("data",n)("schema",a.schema)("submitFormHandler",a.editHandler)("getHandler",a.getHandler)("create",!1)}}function De(e,t){1&e&&f.Ob(0,"mat-header-cell",21)}function Ce(e,t){if(1&e){var n=f.Ub();f.Tb(0,"mat-cell",24),f.Tb(1,"button",25),f.bc("confirmed",(function(){f.vc(n);var e=t.$implicit;return f.fc().delete.emit(e)})),f.Tb(2,"mat-icon"),f.Hc(3,"delete"),f.Sb(),f.Sb(),f.Sb()}}function Ie(e,t){1&e&&f.Ob(0,"mat-header-row")}function He(e,t){1&e&&(f.Tb(0,"div"),f.Ob(1,"mat-spinner"),f.Sb())}function Pe(e,t){if(1&e&&(f.Tb(0,"mat-row",26),f.Fc(1,He,2,0,"div",27),f.Sb()),2&e){var n=f.fc();f.Bb(1),f.lc("ngIf",!n.loading)}}function je(e,t){1&e&&(f.Tb(0,"mat-card",28),f.Ob(1,"mat-progress-spinner",29),f.Sb())}var Be,Me=((Be=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(o,n);var a=t(o);function o(){return i(this,o),a.apply(this,arguments)}return o}(ie)).\u0275fac=function(e){return Re(e||Be)},Be.\u0275cmp=f.Hb({type:Be,selectors:[["lab900-translatable-admin-table"]],inputs:{getHandler:"getHandler"},features:[f.yb],decls:13,vars:9,consts:[[1,"mat-elevation-z8","table"],[3,"dataSource"],[3,"matColumnDef","sticky",4,"ngFor","ngForOf"],["matColumnDef","edit","stickyEnd",""],["class","table__header__cell table__header__cell-icon",4,"matHeaderCellDef"],["class","table__row__cell table__row__cell-icon",4,"matCellDef"],["matColumnDef","delete","stickyEnd",""],["class","table__row__cell-icon",4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],["hidePageSize","",3,"disabled","pageSize","pageIndex","length","page"],[3,"matColumnDef","sticky"],["class","table__header__cell",3,"ngStyle",4,"matHeaderCellDef"],["class","table__row__cell",3,"ngStyle",4,"matCellDef"],[1,"table__header__cell",3,"ngStyle"],[1,"table__row__cell",3,"ngStyle"],["href","javascript://",3,"click",4,"ngIf"],[3,"column","row",4,"ngIf"],["href","javascript://",3,"click"],[3,"column","row"],[1,"table__header__cell","table__header__cell-icon"],[1,"table__row__cell","table__row__cell-icon"],["mat-icon-button","","lab900TranslatableFormDialog","",3,"data","schema","submitFormHandler","getHandler","create"],[1,"table__row__cell-icon"],["mat-icon-button","","lab900ConfirmationDialog","",3,"confirmed"],[1,"table__row"],[4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(e,t){1&e&&(f.Tb(0,"div",0),f.Tb(1,"mat-table",1),f.Fc(2,Te,3,2,"ng-container",2),f.Rb(3,3),f.Fc(4,xe,1,0,"mat-header-cell",4),f.Fc(5,Fe,4,5,"mat-cell",5),f.Qb(),f.Rb(6,6),f.Fc(7,De,1,0,"mat-header-cell",4),f.Fc(8,Ce,4,0,"mat-cell",7),f.Qb(),f.Fc(9,Ie,1,0,"mat-header-row",8),f.Fc(10,Pe,2,1,"mat-row",9),f.Sb(),f.Fc(11,je,2,0,"mat-card",10),f.Tb(12,"mat-paginator",11),f.bc("page",(function(e){return t.pageEvent.emit(e),t.page=e.pageIndex+1})),f.Sb(),f.Sb()),2&e&&(f.Bb(1),f.lc("dataSource",null==t.data?null:t.data.items),f.Bb(1),f.lc("ngForOf",t.columns),f.Bb(7),f.lc("matHeaderRowDef",t.displayedColumns),f.Bb(1),f.lc("matRowDefColumns",t.displayedColumns),f.Bb(1),f.lc("ngIf",t.loading),f.Bb(1),f.lc("disabled",t.loading||!(null!=t.data&&t.data.items))("pageSize",null==t.data||null==t.data.items?null:t.data.items.length)("pageIndex",t.page-1)("length",t.length))},directives:[w.j,c.s,w.c,w.e,w.b,w.g,w.i,c.t,y.a,w.d,c.w,w.a,E,q.b,we,L.a,U.b,w.f,w.h,$.c,A.a,$.a],styles:[".table__header__cell[_ngcontent-%COMP%]{padding:0 10px}.table__header__cell-icon[_ngcontent-%COMP%]{width:40px}.table__row[_ngcontent-%COMP%]{padding:20px 0}.table__row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.table__row__cell[_ngcontent-%COMP%]{padding:0 10px}.table__row__cell-icon[_ngcontent-%COMP%]{width:40px}  .mat-paginator-range-label{display:none}  mat-cell:first-of-type,   mat-header-cell:first-of-type{padding-left:20px!important}"]}),Be),Re=f.Vb(Me);function Ee(e,t){if(1&e&&(f.Tb(0,"div"),f.Hc(1),f.Sb()),2&e){var n=f.fc();f.Bb(1),f.Jc(" ",n.error,"\n")}}function qe(e,t){if(1&e&&(f.Tb(0,"button",4),f.Hc(1,"Create"),f.Sb()),2&e){var n=f.fc(2);f.lc("schema",n.schema)("submitFormHandler",n.createHandler)("create",!0)("getHandler",n.getHandler)}}function Le(e,t){if(1&e){var n=f.Ub();f.Tb(0,"div"),f.Tb(1,"div",1),f.Fc(2,qe,2,4,"button",2),f.Tb(3,"lab900-translatable-admin-table",3),f.bc("pageEvent",(function(e){return f.vc(n),f.fc().onPageEvent(e)}))("delete",(function(e){return f.vc(n),f.fc().onDelete(e)})),f.Sb(),f.Sb(),f.Sb()}if(2&e){var a=f.fc();f.Bb(2),f.lc("ngIf",a.schema.creatable),f.Bb(1),f.lc("loading",a.loading)("schema",a.schema)("data",a.currentPage)("editHandler",a.editHandler)("getHandler",a.getHandler)}}var Ue,$e,Ae,ze,Je,We=(($e=function(){function e(t){var n=this;i(this,e),this.dialog=t,this.loading=!1,this.subscriptions=[],this.editHandler=function(e){return Object(g.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.dataService.update(e);case 3:return this.loadData(),t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t,this)})))},this.createHandler=function(e){return Object(g.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.dataService.create(e);case 3:return n=t.sent,t.abrupt("return",(this.loadData(),n));case 5:case"end":return t.stop()}}),t,this)})))},this.getHandler=function(e,t){return Object(g.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dataService.getByIdAndLanguage(e,t);case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",null);case 9:case"end":return n.stop()}}),n,this,[[0,6]])})))}}return r(e,[{key:"ngOnInit",value:function(){this.pageInfo={currentPage:1,pageSize:this.dataService.defaultPageSize()},this.loadData()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"loadData",value:function(){var e=this;this.loading=!0,this.dataService.getPage(this.pageInfo.currentPage,this.pageInfo.pageSize).then((function(t){e.currentPage=t,e.loading=!1})).catch((function(t){console.log(t),e.error="Oops, something went wrong"})).finally((function(){return e.loading=!1}))}},{key:"onPageEvent",value:function(e){this.pageInfo.currentPage=e.pageIndex+1,this.loadData()}},{key:"onDelete",value:function(e){var t=this;this.loading=!0,this.dataService.delete(e).then((function(){return t.loadData()})).catch((function(e){console.log(e),t.error="Oops, something went wrong.",t.loading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||$e)(f.Nb(v.b))},$e.\u0275cmp=f.Hb({type:$e,selectors:[["lab900-translatable-admin-page"]],inputs:{schema:"schema",dataService:"dataService"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"admin-page"],["mat-raised-button","","color","primary","lab900TranslatableFormDialog","",3,"schema","submitFormHandler","create","getHandler",4,"ngIf"],[3,"loading","schema","data","editHandler","getHandler","pageEvent","delete"],["mat-raised-button","","color","primary","lab900TranslatableFormDialog","",3,"schema","submitFormHandler","create","getHandler"]],template:function(e,t){1&e&&(f.Fc(0,Ee,2,1,"div",0),f.Fc(1,Le,4,6,"div",0)),2&e&&(f.lc("ngIf",t.error),f.Bb(1),f.lc("ngIf",!t.error))},directives:[c.t,Me,q.b,we],styles:[".admin-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;align-content:stretch}.admin-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:20px}.admin-page[_ngcontent-%COMP%]   lab900-admin-table[_ngcontent-%COMP%]{flex:1 1 auto;align-self:stretch}"]}),$e),Ne=((Ue=function e(){i(this,e),this.newsSchema=p,this.dataService=new(function(){function e(){i(this,e),this.previousPage=0}return r(e,[{key:"create",value:function(e){throw new Error("Method not implemented.")}},{key:"delete",value:function(e){return Promise.resolve(void 0)}},{key:"getPage",value:function(e,t){var n=this;return new Promise((function(a){var i=!!b[e*t]||e<n.previousPage;n.previousPage=e,setTimeout((function(){return a({pageNumber:e,items:b.slice((e-1)*t,e*t),hasMore:i})}),300)}))}},{key:"defaultPageSize",value:function(){return 3}},{key:"getByIdAndLanguage",value:function(e,t){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){return e(b[0])}),1e3)})));case 1:case"end":return e.stop()}}),e)})))}},{key:"update",value:function(e){return new Promise((function(e){setTimeout((function(){return e()}),1e3)}))}}]),e}())}).\u0275fac=function(e){return new(e||Ue)},Ue.\u0275cmp=f.Hb({type:Ue,selectors:[["lab900-translatable-admin-page-example"]],decls:1,vars:2,consts:[[3,"schema","dataService"]],template:function(e,t){1&e&&f.Ob(0,"lab900-translatable-admin-page",0),2&e&&f.lc("schema",t.newsSchema)("dataService",t.dataService)},directives:[We],encapsulation:2}),Ue),Ge=o("aPLc"),Qe=o("U1dz"),Ke=o("FIa3"),Xe=o("MSK+"),Ve=[{path:"",component:Ge.a,data:{config:Qe.a,nav:Ke.a}},{path:"getting-started",component:Xe.a,data:{filePath:"guides/admin/getting-started.md"}},new u.a("admin-page","Admin Page",[new d.a(de,"Admin Page","",["TS","HTML"])]),new u.a("translatable-admin-page","Translatable Admin Page",[new d.a(Ne,"Translatable Admin Page","",["TS","HTML"])])],Ye=((Je=function e(){i(this,e)}).\u0275mod=f.Lb({type:Je}),Je.\u0275inj=f.Kb({factory:function(e){return new(e||Je)},imports:[[s.g.forChild(Ve)],s.g]}),Je),Ze=((ze=function e(){i(this,e)}).\u0275mod=f.Lb({type:ze}),ze.\u0275inj=f.Kb({factory:function(e){return new(e||ze)},imports:[[c.c,w.k,y.b,q.c,L.b,v.g,A.j,$.b,U.c,T.b,m.e,me.b,x.c.forChild()]]}),ze),et=((Ae=function e(){i(this,e)}).\u0275mod=f.Lb({type:Ae}),Ae.\u0275inj=f.Kb({factory:function(e){return new(e||Ae)},imports:[[c.c,Ye,Ze]]}),Ae)}}])}();