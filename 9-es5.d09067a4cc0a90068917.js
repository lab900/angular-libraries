!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=a(e);if(t){var r=a(this).constructor;i=Reflect.construct(o,arguments,r)}else i=o.apply(this,arguments);return n(this,i)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"6Goa":function(n,a,o){"use strict";o.r(a),o.d(a,"ShowcaseAdminModule",(function(){return et}));var c,l=o("ofXK"),s=o("tyNb"),u=o("knNE"),d=o("FJko"),m=o("1KFu"),p={name:"News",editable:!0,creatable:!0,deletable:!0,languages:new Map([["en","english"],["fr","french"]]),fields:[{title:"Id",attribute:"id",editType:m.a.Input,overviewOptions:{hide:!0},editOptions:{hide:!0}},{title:"Published",attribute:"published",editType:m.a.Checkbox},{title:"Title",attribute:"title",editType:m.a.Input,overviewOptions:{sticky:!0,onClick:function(e,t,n){alert("clicked on: "+e.attribute)}},translatable:!0},{title:"Subtitle",attribute:"subTitle",editType:m.a.Input,translatable:!0},{title:"Author",attribute:"author",editType:m.a.Input},{title:"Posted On",editType:m.a.Date,attribute:"postedOn"},{title:"Posted On",editType:m.a.Date,attribute:"postedOnShort",overviewOptions:{displayOptions:{pipeFormat:"shortTime",maxColumnWidth:"90px"}}},{title:"Posted By",attribute:"postedBy",editType:m.a.Input,overviewOptions:{displayOptions:{customFormatter:function(e){return"custom <strong>formatted</strong> "+e}}}},{title:"Content",attribute:"content",editType:m.a.Wysiwyg,overviewOptions:{hide:!0},editOptions:{editorConfig:{uploadUrl:"https://europe-west1-tournamentcenter-tools-dev.cloudfunctions.net/uploadImage",uploadWithCredentials:!0}},translatable:!0},{title:"Background",attribute:"backgroundImageUrl",editType:m.a.Image},{title:"Games",attribute:"gameIds",editType:m.a.Select,editOptions:{values:[{value:"pokemon",label:"pokemon"}],multiple:!0},createOptions:{values:[{value:"pokemon",label:"pokemon"}],multiple:!0}}]},f=[{id:"1",published:!0,title:"Combating the Lockdown: an insider\u2019s experience on entering new marketing channels!",subTitle:"Get your community to represent your store and take home the trophy.",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965",languages:["en","fr"]},{id:"2",published:!1,title:"Interview with Michael Loizou \u2013 Owner of The Brotherhood Games Ltd",subTitle:"(Interview conducted at Sneak Attacks Regional Event on Saturday, 6th April, 2019)",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"3",published:!0,title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"4",title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"5",title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"6",title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"7",title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"},{id:"8",title:"hello world",subTitle:"hello world sub",author:"Johan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",postedBy:"johan",postedOn:new Date,postedOnShort:new Date,backgroundImageUrl:"https://firebasestorage.googleapis.com/v0/b/lab900-website-production.appspot.com/o/public%2Fproject-images%2Fradar%2Fradar-mockup.svg?alt=media&token=0b42563b-730f-4cf2-8828-17d957e30965"}],g=o("fXoL"),b=o("mrSG"),h=function(){function e(){i(this,e)}return r(e,null,[{key:"toForm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new m.b;return n.fields=[],e.fields.sort((function(e,t){return e.translatable===t.translatable?0:e.translatable?-1:1})).forEach((function(e){n.fields.push(Object.assign(Object.assign({},e),{options:t&&e.createOptions?e.createOptions:e.editOptions}))})),n}}]),e}(),v=o("0IaG"),w=o("+0xr"),y=o("M9IT"),_=((c=function(){function e(){i(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||c)},c.\u0275cmp=g.Tb({type:c,selectors:[["lab900-date-display"]],inputs:{fieldType:"fieldType",data:"data"},decls:2,vars:4,template:function(e,t){1&e&&(g.Tc(0),g.sc(1,"date")),2&e&&g.Vc("",g.uc(1,1,t.data,(null==t.fieldType||null==t.fieldType.overviewOptions||null==t.fieldType.overviewOptions.displayOptions?null:t.fieldType.overviewOptions.displayOptions.pipeFormat)||"short"),"\n")},pipes:[l.f],encapsulation:2}),c);function O(e,t){if(1&e&&(g.fc(0,"a",1),g.ac(1,"img",2),g.ec()),2&e){var n=g.rc();g.xc("href",n.data,g.Jc),g.Nb(1),g.xc("src",n.data,g.Jc)}}var x,k=((x=function(){function e(){i(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||x)},x.\u0275cmp=g.Tb({type:x,selectors:[["lab900-image-display"]],inputs:{fieldType:"fieldType",data:"data"},decls:1,vars:1,consts:[["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],["alt","",1,"mat-elevation-z2",3,"src"]],template:function(e,t){1&e&&g.Rc(0,O,2,2,"a",0),2&e&&g.xc("ngIf",t.data)},directives:[l.t],styles:["img[_ngcontent-%COMP%]{max-height:50px}"]}),x),D=o("bSwM"),C=o("sYmb");function T(e,t){if(1&e&&(g.fc(0,"mat-checkbox",1),g.Tc(1),g.sc(2,"translate"),g.ec()),2&e){var n=g.rc();g.xc("checked",n.data),g.Nb(1),g.Vc(" ",g.tc(2,2,n.fieldType.title),"\n")}}var S,I=((S=function(){function e(){i(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||S)},S.\u0275cmp=g.Tb({type:S,selectors:[["lab900-checkbox-display"]],inputs:{fieldType:"fieldType",data:"data"},decls:1,vars:1,consts:[["disabled","true",3,"checked",4,"ngIf"],["disabled","true",3,"checked"]],template:function(e,t){1&e&&g.Rc(0,T,3,4,"mat-checkbox",0),2&e&&g.xc("ngIf",void 0!==t.data)},directives:[l.t,D.a],pipes:[C.d],styles:["img[_ngcontent-%COMP%]{max-height:50px}"]}),S);function P(e,t){if(1&e&&g.ac(0,"span",3),2&e){var n=g.rc();g.xc("innerHTML",null==n.column.overviewOptions?null:n.column.overviewOptions.displayOptions.customFormatter(n.row[n.column.attribute],n.row),g.Ic)}}function R(e,t){if(1&e&&(g.fc(0,"span"),g.ac(1,"lab900-date-display",7),g.ec()),2&e){var n=g.rc(2);g.Nb(1),g.xc("data",n.row[n.column.attribute])("fieldType",n.column)}}function F(e,t){if(1&e&&(g.fc(0,"span"),g.ac(1,"lab900-image-display",7),g.ec()),2&e){var n=g.rc(2);g.Nb(1),g.xc("data",n.row[n.column.attribute])("fieldType",n.column)}}function j(e,t){if(1&e&&(g.fc(0,"span"),g.ac(1,"lab900-checkbox-display",7),g.ec()),2&e){var n=g.rc(2);g.Nb(1),g.xc("data",n.row[n.column.attribute])("fieldType",n.column)}}function H(e,t){if(1&e&&(g.fc(0,"span",8),g.Tc(1),g.ec()),2&e){var n=g.rc(2);g.Nb(1),g.Uc(n.row[n.column.attribute])}}function N(e,t){if(1&e&&(g.fc(0,"span",4),g.Rc(1,R,2,2,"span",5),g.Rc(2,F,2,2,"span",5),g.Rc(3,j,2,2,"span",5),g.Rc(4,H,2,1,"span",6),g.ec()),2&e){var n=g.rc();g.xc("ngSwitch",n.column.editType),g.Nb(1),g.xc("ngSwitchCase",n.Date),g.Nb(1),g.xc("ngSwitchCase",n.Image),g.Nb(1),g.xc("ngSwitchCase",n.Checkbox)}}var M,E=((M=function(){function e(){i(this,e),this.Wysiwyg=m.a.Wysiwyg,this.Date=m.a.Date,this.Input=m.a.Input,this.Checkbox=m.a.Checkbox,this.TextArea=m.a.TextArea,this.Image=m.a.Image}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||M)},M.\u0275cmp=g.Tb({type:M,selectors:[["lab900-admin-table-cell"]],inputs:{column:"column",row:"row"},decls:3,vars:2,consts:[[1,"cell"],[3,"innerHTML",4,"ngIf"],["class","cell__wrapper",3,"ngSwitch",4,"ngIf"],[3,"innerHTML"],[1,"cell__wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","cell__wrapper__text",4,"ngSwitchDefault"],[3,"data","fieldType"],[1,"cell__wrapper__text"]],template:function(e,t){1&e&&(g.fc(0,"div",0),g.Rc(1,P,1,1,"span",1),g.Rc(2,N,5,4,"span",2),g.ec()),2&e&&(g.Nb(1),g.xc("ngIf",null==t.column||null==t.column.overviewOptions||null==t.column.overviewOptions.displayOptions?null:t.column.overviewOptions.displayOptions.customFormatter),g.Nb(1),g.xc("ngIf",!(null!=t.column&&null!=t.column.overviewOptions&&null!=t.column.overviewOptions.displayOptions&&t.column.overviewOptions.displayOptions.customFormatter)))},directives:[l.t,l.x,l.y,l.z,_,k,I],styles:[".cell[_ngcontent-%COMP%]{overflow-wrap:anywhere;width:100%}.cell__icon[_ngcontent-%COMP%]{max-width:40px;min-width:40px}.cell[_ngcontent-%COMP%]   lab900-image-display[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),M),q=o("bTqV"),L=o("NFeN"),A=o("RiUc"),$=o("Xa2L"),U=o("Wp6s"),z=function(e){return{"max-width":e}};function W(e,t){if(1&e&&(g.fc(0,"mat-header-cell",15),g.Tc(1),g.sc(2,"translate"),g.ec()),2&e){var n=g.rc().$implicit;g.xc("ngStyle",(null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)&&g.Ac(4,z,null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)),g.Nb(1),g.Vc(" ",g.tc(2,2,n.title)," ")}}function B(e,t){if(1&e){var n=g.gc();g.fc(0,"a",19),g.nc("click",(function(){g.Hc(n);var e=g.rc().$implicit,t=g.rc().$implicit;return null==t.overviewOptions?null:t.overviewOptions.onClick(t,e[t.attribute],e)})),g.ac(1,"lab900-admin-table-cell",20),g.ec()}if(2&e){var a=g.rc().$implicit,i=g.rc().$implicit;g.Nb(1),g.xc("column",i)("row",a)}}function J(e,t){if(1&e&&g.ac(0,"lab900-admin-table-cell",20),2&e){var n=g.rc().$implicit,a=g.rc().$implicit;g.xc("column",a)("row",n)}}function V(e,t){if(1&e&&(g.fc(0,"mat-cell",16),g.Rc(1,B,2,2,"a",17),g.Rc(2,J,1,2,"lab900-admin-table-cell",18),g.ec()),2&e){var n=g.rc().$implicit;g.xc("ngStyle",(null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)&&g.Ac(3,z,null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)),g.Nb(1),g.xc("ngIf",null==n.overviewOptions?null:n.overviewOptions.onClick),g.Nb(1),g.xc("ngIf",!(null!=n.overviewOptions&&n.overviewOptions.onClick))}}function G(e,t){if(1&e&&(g.dc(0,12),g.Rc(1,W,3,6,"mat-header-cell",13),g.Rc(2,V,3,5,"mat-cell",14),g.cc()),2&e){var n=t.$implicit;g.yc("matColumnDef",n.attribute),g.xc("sticky",null==n||null==n.overviewOptions?null:n.overviewOptions.sticky)}}function X(e,t){1&e&&g.ac(0,"mat-header-cell",21)}function K(e,t){if(1&e&&(g.fc(0,"mat-cell",22),g.fc(1,"button",23),g.fc(2,"mat-icon"),g.Tc(3,"edit"),g.ec(),g.ec(),g.ec()),2&e){var n=t.$implicit,a=g.rc();g.Nb(1),g.xc("data",n)("schema",a.form)("submitFormHandler",a.editHandler)}}function Z(e,t){1&e&&g.ac(0,"mat-header-cell",21)}function Y(e,t){if(1&e){var n=g.gc();g.fc(0,"mat-cell",24),g.fc(1,"button",25),g.nc("confirmed",(function(){g.Hc(n);var e=t.$implicit;return g.rc().delete.emit(e)})),g.fc(2,"mat-icon"),g.Tc(3,"delete"),g.ec(),g.ec(),g.ec()}}function Q(e,t){1&e&&g.ac(0,"mat-header-row")}function ee(e,t){1&e&&(g.fc(0,"div"),g.ac(1,"mat-spinner"),g.ec())}function te(e,t){if(1&e&&(g.fc(0,"mat-row",26),g.Rc(1,ee,2,0,"div",27),g.ec()),2&e){var n=g.rc();g.Nb(1),g.xc("ngIf",!n.loading)}}function ne(e,t){1&e&&(g.fc(0,"mat-card",28),g.ac(1,"mat-progress-spinner",29),g.ec())}var ae,ie=((ae=function(){function e(){i(this,e),this.loading=!1,this.edit=new g.r,this.delete=new g.r,this.pageEvent=new g.r,this.page=1}return r(e,[{key:"ngOnInit",value:function(){this.form=h.toForm(this.schema,!1),this.columns=this.schema.fields.filter((function(e){var t;return!(null===(t=e.overviewOptions)||void 0===t?void 0:t.hide)})).map((function(e,t){return e})),this.displayedColumns=this.schema.fields.filter((function(e){var t;return!(null===(t=e.overviewOptions)||void 0===t?void 0:t.hide)})).map((function(e,t){return e.attribute})),this.schema.editable&&this.displayedColumns.push("edit"),this.schema.deletable&&this.displayedColumns.push("delete")}},{key:"length",get:function(){var e;return(null===(e=this.data)||void 0===e?void 0:e.items)?this.data.hasMore?this.page*this.data.items.length+1:this.page*this.data.items.length:0}}]),e}()).\u0275fac=function(e){return new(e||ae)},ae.\u0275cmp=g.Tb({type:ae,selectors:[["lab900-admin-table"]],inputs:{loading:"loading",schema:"schema",data:"data",editHandler:"editHandler"},outputs:{edit:"edit",delete:"delete",pageEvent:"pageEvent"},decls:13,vars:9,consts:[[1,"mat-elevation-z8","table"],[3,"dataSource"],[3,"matColumnDef","sticky",4,"ngFor","ngForOf"],["matColumnDef","edit","stickyEnd",""],["class","table__header__cell table__header__cell-icon",4,"matHeaderCellDef"],["class","table__row__cell table__row__cell-icon",4,"matCellDef"],["matColumnDef","delete","stickyEnd",""],["class","table__row__cell-icon",4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],["hidePageSize","",3,"disabled","pageSize","pageIndex","length","page"],[3,"matColumnDef","sticky"],["class","table__header__cell",3,"ngStyle",4,"matHeaderCellDef"],["class","table__row__cell",3,"ngStyle",4,"matCellDef"],[1,"table__header__cell",3,"ngStyle"],[1,"table__row__cell",3,"ngStyle"],["href","javascript://",3,"click",4,"ngIf"],[3,"column","row",4,"ngIf"],["href","javascript://",3,"click"],[3,"column","row"],[1,"table__header__cell","table__header__cell-icon"],[1,"table__row__cell","table__row__cell-icon"],["mat-icon-button","","lab900FormDialog","",3,"data","schema","submitFormHandler"],[1,"table__row__cell-icon"],["mat-icon-button","","lab900ConfirmationDialog","",3,"confirmed"],[1,"table__row"],[4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(e,t){1&e&&(g.fc(0,"div",0),g.fc(1,"mat-table",1),g.Rc(2,G,3,2,"ng-container",2),g.dc(3,3),g.Rc(4,X,1,0,"mat-header-cell",4),g.Rc(5,K,4,3,"mat-cell",5),g.cc(),g.dc(6,6),g.Rc(7,Z,1,0,"mat-header-cell",4),g.Rc(8,Y,4,0,"mat-cell",7),g.cc(),g.Rc(9,Q,1,0,"mat-header-row",8),g.Rc(10,te,2,1,"mat-row",9),g.ec(),g.Rc(11,ne,2,0,"mat-card",10),g.fc(12,"mat-paginator",11),g.nc("page",(function(e){return t.pageEvent.emit(e),t.page=e.pageIndex+1})),g.ec(),g.ec()),2&e&&(g.Nb(1),g.xc("dataSource",null==t.data?null:t.data.items),g.Nb(1),g.xc("ngForOf",t.columns),g.Nb(7),g.xc("matHeaderRowDef",t.displayedColumns),g.Nb(1),g.xc("matRowDefColumns",t.displayedColumns),g.Nb(1),g.xc("ngIf",t.loading),g.Nb(1),g.xc("disabled",t.loading||!t.data||!(null!=t.data&&t.data.items))("pageSize",null==t.data||null==t.data.items?null:t.data.items.length)("pageIndex",t.page-1)("length",t.length))},directives:[w.j,l.s,w.c,w.e,w.b,w.g,w.i,l.t,y.a,w.d,l.w,w.a,E,q.b,m.d,L.a,A.b,w.f,w.h,$.c,U.a,$.a],pipes:[C.d],styles:[".table__header__cell[_ngcontent-%COMP%]{padding:0 10px}.table__header__cell-icon[_ngcontent-%COMP%]{max-width:40px;min-width:40px}.table__row[_ngcontent-%COMP%]{padding:20px 0}.table__row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.table__row__cell[_ngcontent-%COMP%]{padding:0 10px}.table__row__cell-icon[_ngcontent-%COMP%]{max-width:40px;min-width:40px}  .mat-paginator-range-label{display:none}  mat-cell:first-of-type,   mat-header-cell:first-of-type{padding-left:20px!important}"]}),ae);function oe(e,t){if(1&e&&(g.fc(0,"div"),g.Tc(1),g.ec()),2&e){var n=g.rc();g.Nb(1),g.Vc(" ",n.error,"\n")}}function re(e,t){if(1&e&&(g.fc(0,"button",4),g.Tc(1,"Create"),g.ec()),2&e){var n=g.rc(2);g.xc("schema",n.createForm)("submitFormHandler",n.createHandler)}}function ce(e,t){if(1&e){var n=g.gc();g.fc(0,"div"),g.fc(1,"div",1),g.Rc(2,re,2,2,"button",2),g.fc(3,"lab900-admin-table",3),g.nc("pageEvent",(function(e){return g.Hc(n),g.rc().onPageEvent(e)}))("delete",(function(e){return g.Hc(n),g.rc().onDelete(e)})),g.ec(),g.ec(),g.ec()}if(2&e){var a=g.rc();g.Nb(2),g.xc("ngIf",a.schema.creatable),g.Nb(1),g.xc("loading",a.loading)("schema",a.schema)("data",a.currentPage)("editHandler",a.editHandler)}}var le,se,ue=((se=function(){function e(t){var n=this;i(this,e),this.dialog=t,this.loading=!1,this.editHandler=function(e){return Object(b.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.dataService.update(e);case 3:return this.loadData(),t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t,this)})))},this.createHandler=function(e){return Object(b.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.dataService.create(e);case 3:return n=t.sent,t.abrupt("return",(this.loadData(),n));case 5:case"end":return t.stop()}}),t,this)})))}}return r(e,[{key:"ngOnInit",value:function(){this.pageInfo={currentPage:1,pageSize:this.dataService.defaultPageSize()},this.editForm=h.toForm(this.schema,!1),this.createForm=h.toForm(this.schema,!0),this.loadData()}},{key:"loadData",value:function(){var e=this;this.loading=!0,this.dataService.getPage(this.pageInfo.currentPage,this.pageInfo.pageSize).then((function(t){e.currentPage=t,e.loading=!1})).catch((function(t){console.log(t),e.error="Oops, something went wrong"})).finally((function(){return e.loading=!1}))}},{key:"onPageEvent",value:function(e){this.pageInfo.currentPage=e.pageIndex+1,this.loadData()}},{key:"onDelete",value:function(e){var t=this;this.loading=!0,this.dataService.delete(e).then((function(){return t.loadData()})).catch((function(e){console.log(e),t.error="Oops, something went wrong.",t.loading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||se)(g.Zb(v.b))},se.\u0275cmp=g.Tb({type:se,selectors:[["lab900-admin-page"]],inputs:{schema:"schema",dataService:"dataService"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"admin-page"],["mat-raised-button","","color","primary","lab900FormDialog","",3,"schema","submitFormHandler",4,"ngIf"],[3,"loading","schema","data","editHandler","pageEvent","delete"],["mat-raised-button","","color","primary","lab900FormDialog","",3,"schema","submitFormHandler"]],template:function(e,t){1&e&&(g.Rc(0,oe,2,1,"div",0),g.Rc(1,ce,4,5,"div",0)),2&e&&(g.xc("ngIf",t.error),g.Nb(1),g.xc("ngIf",!t.error))},directives:[l.t,ie,q.b,m.d],styles:[".admin-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;align-content:stretch}.admin-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:20px}.admin-page[_ngcontent-%COMP%]   lab900-admin-table[_ngcontent-%COMP%]{flex:1 1 auto;align-self:stretch}"]}),se),de=((le=function e(){i(this,e),this.newsSchema=p,this.dataService=new(function(){function e(){i(this,e),this.previousPage=0}return r(e,[{key:"create",value:function(e){throw new Error("Method not implemented.")}},{key:"delete",value:function(e){return Promise.resolve(void 0)}},{key:"getPage",value:function(e,t){var n=this;return new Promise((function(a){var i=!!f[e*t]||e<n.previousPage;n.previousPage=e,setTimeout((function(){return a({pageNumber:e,items:f.slice((e-1)*t,e*t),hasMore:i})}),300)}))}},{key:"defaultPageSize",value:function(){return 3}},{key:"update",value:function(e){return new Promise((function(e){setTimeout((function(){return e()}),1e3)}))}}]),e}())}).\u0275fac=function(e){return new(e||le)},le.\u0275cmp=g.Tb({type:le,selectors:[["lab900-admin-page-example"]],decls:1,vars:2,consts:[[3,"schema","dataService"]],template:function(e,t){1&e&&g.ac(0,"lab900-admin-page",0),2&e&&g.xc("schema",t.newsSchema)("dataService",t.dataService)},directives:[ue],encapsulation:2}),le),me=o("d3UM"),pe=o("FKr1");function fe(e,t){if(1&e){var n=g.gc();g.fc(0,"mat-option",11),g.nc("click",(function(){g.Hc(n);var e=t.$implicit,a=g.rc(2),i=g.Ec(3);return a.onLanguageChange(e.key,i.value)})),g.Tc(1),g.ec()}if(2&e){var a=t.$implicit;g.xc("value",a.key),g.Nb(1),g.Vc(" ",a.value," ")}}function ge(e,t){if(1&e){var n=g.gc();g.fc(0,"div",6),g.fc(1,"mat-select",7),g.Rc(2,fe,2,2,"mat-option",8),g.sc(3,"keyvalue"),g.ec(),g.ac(4,"div",9),g.fc(5,"button",10),g.nc("click",(function(){return g.Hc(n),g.rc().clearLanguage()})),g.fc(6,"mat-icon"),g.Tc(7," delete "),g.ec(),g.Tc(8," Clear current language "),g.ec(),g.ec()}if(2&e){var a=g.rc();g.Nb(1),g.xc("value",a.currentLanguage),g.Nb(1),g.xc("ngForOf",g.tc(3,2,a.dialogAdminSchemaData.schema.languages))}}var be,he,ve=((he=function(){function e(t,n){i(this,e),this.data=t,this.dialogRef=n,this.loading=!1,this.returnObject={},this.dialogAdminSchemaData=t,this.formSchema=h.toForm(t.schema,t.create),this.formData=this.dialogAdminSchemaData.data?this.dialogAdminSchemaData.data:{}}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.currentLanguage=Array.from(this.dialogAdminSchemaData.schema.languages.keys())[0],this.loading=!0,this.dialogAdminSchemaData.get(this.formData.id,this.currentLanguage).then((function(t){e.rootObject=t,e.formData=t})).catch((function(t){e.formData={}})).finally((function(){e.loading=!1}))}},{key:"submit",value:function(e){var t=this;this.loading=!0,this.error=null,this.addToReturnObject(e),e=this.removeTranslatableFieldsFromRootObject(e),this.dialogAdminSchemaData.submit(Object.assign(Object.assign(Object.assign({},this.rootObject),e),this.returnObject)).then((function(e){return e?t.dialogRef.close():t.error="Oops. An error occured."})).catch((function(e){return t.error=e})).finally((function(){return t.loading=!1}))}},{key:"onLanguageChange",value:function(e,t){var n=this;if(this.loading=!0,this.addToReturnObject(t),this.currentLanguage=e,this.returnObject.translations[e]){var a={};this.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(t){a[t.attribute]=n.returnObject.translations[e][t.attribute]})),this.formData=Object.assign(Object.assign({},t),a),this.loading=!1}else if(this.formData&&this.formData.id)this.dialogAdminSchemaData.get(this.formData.id,e).then((function(e){var a={};n.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(t){a[t.attribute]=e?e[t.attribute]:null})),n.formData=Object.assign(Object.assign({},t),a)})).catch((function(e){n.error=e})).finally((function(){n.loading=!1}));else{var i={};this.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(e){i[e.attribute]=null})),this.formData=Object.assign(Object.assign({},t),i),this.loading=!1}}},{key:"addToReturnObject",value:function(e){var t=this;this.returnObject.translations||(this.returnObject.translations={}),this.returnObject.translations[this.currentLanguage]||(this.returnObject.translations[this.currentLanguage]={}),this.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(n){t.returnObject.translations[t.currentLanguage][n.attribute]=e[n.attribute]}))}},{key:"clearLanguage",value:function(){var e={};this.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(t){e[t.attribute]=null})),this.addToReturnObject(e),this.formData=Object.assign(Object.assign({},this.formData),e)}},{key:"removeTranslatableFieldsFromRootObject",value:function(e){return this.data.schema.fields.filter((function(e){return e.translatable})).forEach((function(t){delete e[t.attribute]})),e}}]),e}()).\u0275fac=function(e){return new(e||he)(g.Zb(v.a),g.Zb(v.h))},he.\u0275cmp=g.Tb({type:he,selectors:[["lab900-translatable-form-dialog"]],decls:9,vars:4,consts:[["class","language-select-container",4,"ngIf"],[3,"schema","data"],["lab900Form",""],["align","end"],["mat-raised-button","","mat-dialog-close","","tabindex","-1"],["mat-raised-button","","color","primary","tabindex","1",3,"disabled","click"],[1,"language-select-container"],["align","end",1,"language-select-container__languages",3,"value"],["class","language-select-container__languages__option",3,"value","click",4,"ngFor","ngForOf"],[1,"language-select-container__spacer"],["mat-raised-button","",3,"click"],[1,"language-select-container__languages__option",3,"value","click"]],template:function(e,t){if(1&e){var n=g.gc();g.fc(0,"mat-dialog-content"),g.Rc(1,ge,9,4,"div",0),g.ac(2,"lab900-form-container",1,2),g.ec(),g.fc(4,"mat-dialog-actions",3),g.fc(5,"button",4),g.Tc(6,"Cancel"),g.ec(),g.fc(7,"button",5),g.nc("click",(function(){g.Hc(n);var e=g.Ec(3);return t.submit(e.value)})),g.Tc(8,"Ok"),g.ec(),g.ec()}if(2&e){var a=g.Ec(3);g.Nb(1),g.xc("ngIf",t.dialogAdminSchemaData.schema.languages),g.Nb(1),g.xc("schema",t.formSchema)("data",t.formData),g.Nb(5),g.xc("disabled",!a.valid||t.loading||!!t.error)}},directives:[v.f,l.t,m.c,v.c,q.b,v.d,me.a,l.s,L.a,pe.o],pipes:[l.l],styles:["mat-dialog-content[_ngcontent-%COMP%]{min-width:600px}.language-select-container[_ngcontent-%COMP%]{padding:0 32px;flex-direction:row;display:flex}.language-select-container__languages[_ngcontent-%COMP%]{align-self:center;width:100px}.language-select-container__spacer[_ngcontent-%COMP%]{flex-grow:1}"]}),he),we=((be=function(){function e(t){i(this,e),this.dialog=t}return r(e,[{key:"onMouseEnter",value:function(){this.dialog.open(ve,{data:{schema:this.schema,data:this.data,submit:this.submitFormHandler,get:this.getHandler,create:this.create}}).beforeClosed().subscribe((function(e){})).unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||be)(g.Zb(v.b))},be.\u0275dir=g.Ub({type:be,selectors:[["","lab900TranslatableFormDialog",""]],hostBindings:function(e,t){1&e&&g.nc("click",(function(){return t.onMouseEnter()}))},inputs:{schema:"schema",data:"data",create:"create",submitFormHandler:"submitFormHandler",getHandler:"getHandler"}}),be),ye=function(e){return{"max-width":e}};function _e(e,t){if(1&e&&(g.fc(0,"mat-header-cell",15),g.Tc(1),g.ec()),2&e){var n=g.rc().$implicit;g.xc("ngStyle",(null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)&&g.Ac(2,ye,null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)),g.Nb(1),g.Vc(" ",n.title," ")}}function Oe(e,t){if(1&e){var n=g.gc();g.fc(0,"a",19),g.nc("click",(function(){g.Hc(n);var e=g.rc().$implicit,t=g.rc().$implicit;return null==t.overviewOptions?null:t.overviewOptions.onClick(t,e[t.attribute],e)})),g.ac(1,"lab900-admin-table-cell",20),g.ec()}if(2&e){var a=g.rc().$implicit,i=g.rc().$implicit;g.Nb(1),g.xc("column",i)("row",a)}}function xe(e,t){if(1&e&&g.ac(0,"lab900-admin-table-cell",20),2&e){var n=g.rc().$implicit,a=g.rc().$implicit;g.xc("column",a)("row",n)}}function ke(e,t){if(1&e&&(g.fc(0,"mat-cell",16),g.Rc(1,Oe,2,2,"a",17),g.Rc(2,xe,1,2,"lab900-admin-table-cell",18),g.ec()),2&e){var n=g.rc().$implicit;g.xc("ngStyle",(null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)&&g.Ac(3,ye,null==n||null==n.overviewOptions||null==n.overviewOptions.displayOptions?null:n.overviewOptions.displayOptions.maxColumnWidth)),g.Nb(1),g.xc("ngIf",null==n.overviewOptions?null:n.overviewOptions.onClick),g.Nb(1),g.xc("ngIf",!(null!=n.overviewOptions&&n.overviewOptions.onClick))}}function De(e,t){if(1&e&&(g.dc(0,12),g.Rc(1,_e,2,4,"mat-header-cell",13),g.Rc(2,ke,3,5,"mat-cell",14),g.cc()),2&e){var n=t.$implicit;g.yc("matColumnDef",n.attribute),g.xc("sticky",null==n||null==n.overviewOptions?null:n.overviewOptions.sticky)}}function Ce(e,t){1&e&&g.ac(0,"mat-header-cell",21)}function Te(e,t){if(1&e&&(g.fc(0,"mat-cell",22),g.fc(1,"button",23),g.fc(2,"mat-icon"),g.Tc(3,"edit"),g.ec(),g.ec(),g.ec()),2&e){var n=t.$implicit,a=g.rc();g.Nb(1),g.xc("data",n)("schema",a.schema)("submitFormHandler",a.editHandler)("getHandler",a.getHandler)("create",!1)}}function Se(e,t){1&e&&g.ac(0,"mat-header-cell",21)}function Ie(e,t){if(1&e){var n=g.gc();g.fc(0,"mat-cell",24),g.fc(1,"button",25),g.nc("confirmed",(function(){g.Hc(n);var e=t.$implicit;return g.rc().delete.emit(e)})),g.fc(2,"mat-icon"),g.Tc(3,"delete"),g.ec(),g.ec(),g.ec()}}function Pe(e,t){1&e&&g.ac(0,"mat-header-row")}function Re(e,t){1&e&&(g.fc(0,"div"),g.ac(1,"mat-spinner"),g.ec())}function Fe(e,t){if(1&e&&(g.fc(0,"mat-row",26),g.Rc(1,Re,2,0,"div",27),g.ec()),2&e){var n=g.rc();g.Nb(1),g.xc("ngIf",!n.loading)}}function je(e,t){1&e&&(g.fc(0,"mat-card",28),g.ac(1,"mat-progress-spinner",29),g.ec())}var He,Ne=((He=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(o,n);var a=t(o);function o(){return i(this,o),a.apply(this,arguments)}return o}(ie)).\u0275fac=function(e){return Me(e||He)},He.\u0275cmp=g.Tb({type:He,selectors:[["lab900-translatable-admin-table"]],inputs:{getHandler:"getHandler"},features:[g.Kb],decls:13,vars:9,consts:[[1,"mat-elevation-z8","table"],[3,"dataSource"],[3,"matColumnDef","sticky",4,"ngFor","ngForOf"],["matColumnDef","edit","stickyEnd",""],["class","table__header__cell table__header__cell-icon",4,"matHeaderCellDef"],["class","table__row__cell table__row__cell-icon",4,"matCellDef"],["matColumnDef","delete","stickyEnd",""],["class","table__row__cell-icon",4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],["hidePageSize","",3,"disabled","pageSize","pageIndex","length","page"],[3,"matColumnDef","sticky"],["class","table__header__cell",3,"ngStyle",4,"matHeaderCellDef"],["class","table__row__cell",3,"ngStyle",4,"matCellDef"],[1,"table__header__cell",3,"ngStyle"],[1,"table__row__cell",3,"ngStyle"],["href","javascript://",3,"click",4,"ngIf"],[3,"column","row",4,"ngIf"],["href","javascript://",3,"click"],[3,"column","row"],[1,"table__header__cell","table__header__cell-icon"],[1,"table__row__cell","table__row__cell-icon"],["mat-icon-button","","lab900TranslatableFormDialog","",3,"data","schema","submitFormHandler","getHandler","create"],[1,"table__row__cell-icon"],["mat-icon-button","","lab900ConfirmationDialog","",3,"confirmed"],[1,"table__row"],[4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(e,t){1&e&&(g.fc(0,"div",0),g.fc(1,"mat-table",1),g.Rc(2,De,3,2,"ng-container",2),g.dc(3,3),g.Rc(4,Ce,1,0,"mat-header-cell",4),g.Rc(5,Te,4,5,"mat-cell",5),g.cc(),g.dc(6,6),g.Rc(7,Se,1,0,"mat-header-cell",4),g.Rc(8,Ie,4,0,"mat-cell",7),g.cc(),g.Rc(9,Pe,1,0,"mat-header-row",8),g.Rc(10,Fe,2,1,"mat-row",9),g.ec(),g.Rc(11,je,2,0,"mat-card",10),g.fc(12,"mat-paginator",11),g.nc("page",(function(e){return t.pageEvent.emit(e),t.page=e.pageIndex+1})),g.ec(),g.ec()),2&e&&(g.Nb(1),g.xc("dataSource",null==t.data?null:t.data.items),g.Nb(1),g.xc("ngForOf",t.columns),g.Nb(7),g.xc("matHeaderRowDef",t.displayedColumns),g.Nb(1),g.xc("matRowDefColumns",t.displayedColumns),g.Nb(1),g.xc("ngIf",t.loading),g.Nb(1),g.xc("disabled",t.loading||!(null!=t.data&&t.data.items))("pageSize",null==t.data||null==t.data.items?null:t.data.items.length)("pageIndex",t.page-1)("length",t.length))},directives:[w.j,l.s,w.c,w.e,w.b,w.g,w.i,l.t,y.a,w.d,l.w,w.a,E,q.b,we,L.a,A.b,w.f,w.h,$.c,U.a,$.a],styles:[".table__header__cell[_ngcontent-%COMP%]{padding:0 10px}.table__header__cell-icon[_ngcontent-%COMP%]{width:40px}.table__row[_ngcontent-%COMP%]{padding:20px 0}.table__row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.table__row__cell[_ngcontent-%COMP%]{padding:0 10px}.table__row__cell-icon[_ngcontent-%COMP%]{width:40px}  .mat-paginator-range-label{display:none}  mat-cell:first-of-type,   mat-header-cell:first-of-type{padding-left:20px!important}"]}),He),Me=g.hc(Ne);function Ee(e,t){if(1&e&&(g.fc(0,"div"),g.Tc(1),g.ec()),2&e){var n=g.rc();g.Nb(1),g.Vc(" ",n.error,"\n")}}function qe(e,t){if(1&e&&(g.fc(0,"button",4),g.Tc(1,"Create"),g.ec()),2&e){var n=g.rc(2);g.xc("schema",n.schema)("submitFormHandler",n.createHandler)("create",!0)("getHandler",n.getHandler)}}function Le(e,t){if(1&e){var n=g.gc();g.fc(0,"div"),g.fc(1,"div",1),g.Rc(2,qe,2,4,"button",2),g.fc(3,"lab900-translatable-admin-table",3),g.nc("pageEvent",(function(e){return g.Hc(n),g.rc().onPageEvent(e)}))("delete",(function(e){return g.Hc(n),g.rc().onDelete(e)})),g.ec(),g.ec(),g.ec()}if(2&e){var a=g.rc();g.Nb(2),g.xc("ngIf",a.schema.creatable),g.Nb(1),g.xc("loading",a.loading)("schema",a.schema)("data",a.currentPage)("editHandler",a.editHandler)("getHandler",a.getHandler)}}var Ae,$e,Ue,ze,We,Be=(($e=function(){function e(t){var n=this;i(this,e),this.dialog=t,this.loading=!1,this.subscriptions=[],this.editHandler=function(e){return Object(b.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.dataService.update(e);case 3:return this.loadData(),t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t,this)})))},this.createHandler=function(e){return Object(b.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.dataService.create(e);case 3:return n=t.sent,t.abrupt("return",(this.loadData(),n));case 5:case"end":return t.stop()}}),t,this)})))},this.getHandler=function(e,t){return Object(b.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dataService.getByIdAndLanguage(e,t);case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",null);case 9:case"end":return n.stop()}}),n,this,[[0,6]])})))}}return r(e,[{key:"ngOnInit",value:function(){this.pageInfo={currentPage:1,pageSize:this.dataService.defaultPageSize()},this.loadData()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"loadData",value:function(){var e=this;this.loading=!0,this.dataService.getPage(this.pageInfo.currentPage,this.pageInfo.pageSize).then((function(t){e.currentPage=t,e.loading=!1})).catch((function(t){console.log(t),e.error="Oops, something went wrong"})).finally((function(){return e.loading=!1}))}},{key:"onPageEvent",value:function(e){this.pageInfo.currentPage=e.pageIndex+1,this.loadData()}},{key:"onDelete",value:function(e){var t=this;this.loading=!0,this.dataService.delete(e).then((function(){return t.loadData()})).catch((function(e){console.log(e),t.error="Oops, something went wrong.",t.loading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||$e)(g.Zb(v.b))},$e.\u0275cmp=g.Tb({type:$e,selectors:[["lab900-translatable-admin-page"]],inputs:{schema:"schema",dataService:"dataService"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"admin-page"],["mat-raised-button","","color","primary","lab900TranslatableFormDialog","",3,"schema","submitFormHandler","create","getHandler",4,"ngIf"],[3,"loading","schema","data","editHandler","getHandler","pageEvent","delete"],["mat-raised-button","","color","primary","lab900TranslatableFormDialog","",3,"schema","submitFormHandler","create","getHandler"]],template:function(e,t){1&e&&(g.Rc(0,Ee,2,1,"div",0),g.Rc(1,Le,4,6,"div",0)),2&e&&(g.xc("ngIf",t.error),g.Nb(1),g.xc("ngIf",!t.error))},directives:[l.t,Ne,q.b,we],styles:[".admin-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;align-content:stretch}.admin-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:20px}.admin-page[_ngcontent-%COMP%]   lab900-admin-table[_ngcontent-%COMP%]{flex:1 1 auto;align-self:stretch}"]}),$e),Je=((Ae=function e(){i(this,e),this.newsSchema=p,this.dataService=new(function(){function e(){i(this,e),this.previousPage=0}return r(e,[{key:"create",value:function(e){throw new Error("Method not implemented.")}},{key:"delete",value:function(e){return Promise.resolve(void 0)}},{key:"getPage",value:function(e,t){var n=this;return new Promise((function(a){var i=!!f[e*t]||e<n.previousPage;n.previousPage=e,setTimeout((function(){return a({pageNumber:e,items:f.slice((e-1)*t,e*t),hasMore:i})}),300)}))}},{key:"defaultPageSize",value:function(){return 3}},{key:"getByIdAndLanguage",value:function(e,t){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){return e(f[0])}),1e3)})));case 1:case"end":return e.stop()}}),e)})))}},{key:"update",value:function(e){return new Promise((function(e){setTimeout((function(){return e()}),1e3)}))}}]),e}())}).\u0275fac=function(e){return new(e||Ae)},Ae.\u0275cmp=g.Tb({type:Ae,selectors:[["lab900-translatable-admin-page-example"]],decls:1,vars:2,consts:[[3,"schema","dataService"]],template:function(e,t){1&e&&g.ac(0,"lab900-translatable-admin-page",0),2&e&&g.xc("schema",t.newsSchema)("dataService",t.dataService)},directives:[Be],encapsulation:2}),Ae),Ve=o("aPLc"),Ge=o("U1dz"),Xe=o("FIa3"),Ke=o("MSK+"),Ze=[{path:"",component:Ve.a,data:{config:Ge.a,nav:Xe.a}},{path:"getting-started",component:Ke.a,data:{filePath:"guides/admin/getting-started.md"}},new u.a("admin-page","Admin Page",[new d.a(de,"Admin Page","",["TS","HTML"])]),new u.a("translatable-admin-page","Translatable Admin Page",[new d.a(Je,"Translatable Admin Page","",["TS","HTML"])])],Ye=((We=function e(){i(this,e)}).\u0275mod=g.Xb({type:We}),We.\u0275inj=g.Wb({factory:function(e){return new(e||We)},imports:[[s.g.forChild(Ze)],s.g]}),We),Qe=((ze=function e(){i(this,e)}).\u0275mod=g.Xb({type:ze}),ze.\u0275inj=g.Wb({factory:function(e){return new(e||ze)},imports:[[l.c,w.k,y.b,q.c,L.b,v.g,U.j,$.b,A.c,D.b,m.e,me.b,C.c.forChild()]]}),ze),et=((Ue=function e(){i(this,e)}).\u0275mod=g.Xb({type:Ue}),Ue.\u0275inj=g.Wb({factory:function(e){return new(e||Ue)},imports:[[l.c,Ye,Qe]]}),Ue)}}])}();